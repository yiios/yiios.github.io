<html>
<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Live Activity(çµåŠ¨å²›) WWDC æ€»ç»“ | ç”»å®¶-ä¸ªäººç®€å†</title>

<link rel="shortcut icon" href="https://www.yiios.com/favicon.ico?v=1740721352515">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://www.yiios.com/styles/main.css">
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"> -->

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/languages//dart.min.js"></script>

<!-- <script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script> -->
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-145635717-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-145635717-1');
</script>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
    
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <a class="navbar-brand" href="/">
        <img class="user-avatar" src="/images/avatar.png" alt="å¤´åƒ">
        <div class="site-name gt-c-content-color-first">
            ç”»å®¶-ä¸ªäººç®€å†
        </div>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" id="changeNavbar">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
            <div class="nav-item">
                
                <a href="/" class="menu gt-a-link">
                    é¦–é¡µ
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/archives" class="menu gt-a-link">
                    å½’æ¡£
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/tags" class="menu gt-a-link">
                    æ ‡ç­¾
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/friends" class="menu gt-a-link">
                    å‹é“¾
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/post/about" class="menu gt-a-link">
                    å…³äº
                </a>
                
            </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1740721352515"
                action="/search/">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="æœç´¢æ–‡ç« " />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>
<script>
    /* ç§»åŠ¨ç«¯å¯¼èˆªæ å±•å¼€/æ”¶èµ·åˆ‡æ¢ */
    document.getElementById('changeNavbar').onclick = () => {
        var element = document.getElementById('navbarSupportedContent');
        if (element.style.display === 'none' || element.style.display === '') {
            element.style.display = 'block';
        } else {
            element.style.display = 'none';
        }
    }
</script>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    Live Activity(çµåŠ¨å²›) WWDC æ€»ç»“
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        Â· 2022-09-16 Â·
                    </time>
                    
                </div>
                <div class="post-content">
                    <blockquote>
<p>æä¾› <code>Live Activity</code>ï¼Œåœ¨ <code>Dynamic Island </code> å’Œé”å±ä¸Šæ˜¾ç¤ºä½ çš„åº”ç”¨ç¨‹åºçš„æœ€æ–°æ•°æ®ã€‚</p>
</blockquote>
<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2>
<p><code>Live Activity</code> åœ¨ iPhone é”å±å’Œ <code>Dynamic Island </code> ä¸­æ˜¾ç¤ºä½ çš„åº”ç”¨ç¨‹åºçš„æœ€æ–°æ•°æ®ã€‚è¿™ä½¿äººä»¬èƒ½å¤Ÿä¸€ç›®äº†ç„¶åœ°çœ‹åˆ°å®æ—¶ä¿¡æ¯ã€‚</p>
<p>è¦æä¾› <code>Live Activity</code>ï¼Œè¯·å°†ä»£ç æ·»åŠ åˆ°ä½ ç°æœ‰çš„ Widget æ‰©å±•ä¸­ï¼Œå¦‚æœä½ çš„åº”ç”¨è¿˜æ²¡æœ‰åŒ…æ‹¬ä¸€ä¸ª Widget æ‰©å±•ï¼Œåˆ™å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ Widget æ‰©å±•ã€‚<code>Live Activity</code> ä½¿ç”¨ <code>WidgetKit</code> åŠŸèƒ½å’Œ <code>SwiftUI</code> ä½œä¸ºå…¶ç”¨æˆ·ç•Œé¢ã€‚ActivityKit çš„ä½œç”¨æ˜¯å¤„ç†æ¯ä¸ª <code>Live Activity</code> çš„ç”Ÿå‘½å‘¨æœŸã€‚ä½ ä½¿ç”¨å®ƒçš„ API æ¥è¯·æ±‚ã€æ›´æ–°å’Œç»“æŸä¸€ä¸ª <code>Live Activity</code>ã€‚</p>
<blockquote>
<p><code>Live Activity</code> åªåœ¨ iPhone ä¸Šæä¾›ã€‚</p>
</blockquote>
<h2 id="æ˜ç¡®-live-activity-è¦æ±‚å’Œé™åˆ¶">æ˜ç¡® <code>Live Activity</code> è¦æ±‚å’Œé™åˆ¶</h2>
<p>é™¤éä½ çš„åº”ç”¨ç¨‹åºæˆ–ç”¨æˆ·ç»“æŸå®ƒï¼Œå¦åˆ™ä¸€ä¸ª <code>Live Activity</code> å¯ä»¥æ´»è·ƒé•¿è¾¾ 8 å°æ—¶ã€‚è¶…è¿‡è¿™ä¸ªé™åˆ¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç»“æŸå®ƒã€‚å½“ä¸€ä¸ª <code>Live Activity</code> ç»“æŸæ—¶ï¼Œç³»ç»Ÿä¼šç«‹å³å°†å…¶ä» <code>Dynamic Island </code> ä¸­åˆ é™¤ã€‚ç„¶è€Œï¼Œ&quot;<code>Live Activity</code>&quot; ä»åœ¨é”å±ä¸Šï¼Œç›´åˆ°ç”¨æˆ·å°†å…¶åˆ é™¤ï¼Œæˆ–åœ¨ç³»ç»Ÿå°†å…¶åˆ é™¤å‰çš„å¦å¤–å››ä¸ªå°æ—¶ï¼Œä»¥å…ˆåˆ°è€…ä¸ºå‡†ã€‚å› æ­¤ï¼Œä¸€ä¸ª <code>Live Activity</code> åœ¨é”å±ä¸Šæœ€å¤šä¿ç•™ 12 ä¸ªå°æ—¶ã€‚</p>
<p>å…³äºç»“æŸ <code>Live Activity</code> çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ä¸‹é¢çš„ <a href="https://developer.apple.com/documentation/activitykit/update-and-end-your-live-activity-with-remote-push-notifications">&quot;ä»ä½ çš„åº”ç”¨ç¨‹åºä¸­ç»“æŸ <code>Live Activity</code>&quot;</a>ã€‚</p>
<p>æ¯ä¸ª <code>Live Activity</code> éƒ½åœ¨è‡ªå·±çš„æ²™ç›’ä¸­è¿è¡Œï¼Œè€Œä¸”ä¸å°å·¥å…·ä¸åŒï¼Œå®ƒä¸èƒ½è®¿é—®ç½‘ç»œæˆ–æ¥æ”¶ä½ç½®æ›´æ–°ã€‚è¦æ›´æ–°ä¸€ä¸ªæ´»åŠ¨çš„ <code>Live Activity</code> çš„åŠ¨æ€æ•°æ®ï¼Œè¯·åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ ActivityKit æ¡†æ¶ï¼Œæˆ–å…è®¸ä½ çš„ <code>Live Activity</code> æ¥æ”¶è¿œç¨‹æ¨é€é€šçŸ¥ï¼Œå¦‚ç”¨è¿œç¨‹æ¨é€é€šçŸ¥æ›´æ–°å’Œç»“æŸä½ çš„ <code>Live Activity</code> æ‰€è¿°ã€‚</p>
<blockquote>
<p>ActivityKit æ›´æ–°å’Œè¿œç¨‹æ¨é€é€šçŸ¥æ›´æ–°çš„åŠ¨æ€æ•°æ®å¤§å°éƒ½ä¸èƒ½è¶…è¿‡ 4KBã€‚</p>
</blockquote>
<p><code>Live Activity</code> æœ‰é”å±å’Œ <code>Dynamic Island </code> çš„ä¸åŒè§†å›¾ã€‚é”å±è§†å›¾å‡ºç°åœ¨æ‰€æœ‰è®¾å¤‡ä¸Šã€‚æ”¯æŒ <code>Dynamic Island </code> çš„è®¾å¤‡ä½¿ç”¨ä»¥ä¸‹è§†å›¾æ˜¾ç¤º <code>Live Activity</code>ï¼šä¸€ä¸ªç´§å‡‘çš„å‰å¯¼è§†å›¾ã€ä¸€ä¸ªç´§å‡‘çš„åå¯¼è§†å›¾ã€ä¸€ä¸ªæœ€å°çš„è§†å›¾å’Œä¸€ä¸ª <code>Dynamic Island </code> çš„æ‰©å±•è§†å›¾ã€‚</p>
<p>å½“ä¸€ä¸ªäººè§¦æ‘¸å¹¶æŒæœ‰ <code>Dynamic Island </code> ä¸­çš„ç´§å‡‘æˆ–æœ€å°è§†å›¾æ—¶ï¼Œä»¥åŠå½“ <code>Live Activity</code> æ›´æ–°æ—¶ï¼Œæ‰©å±•è§†å›¾ä¼šå‡ºç°ã€‚åœ¨ä¸€ä¸ªä¸æ”¯æŒ <code>Dynamic Island </code> çš„æ— é”è®¾å¤‡ä¸Šï¼Œæ‰©å±•çš„è§†å›¾ä¼šä»¥æ¨ªå¹…çš„å½¢å¼å‡ºç°åœ¨ <code>Live Activity</code> æ›´æ–°ä¸­ã€‚</p>
<p>ä¸ºäº†ç¡®ä¿ç³»ç»Ÿèƒ½åœ¨æ¯ä¸ªä½ç½®æ˜¾ç¤ºä½ çš„ <code>Live Activity</code>ï¼Œä½ å¿…é¡»æ”¯æŒæ‰€æœ‰çš„è§†å›¾ã€‚</p>
<h2 id="åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ·»åŠ å¯¹-live-activity-çš„æ”¯æŒ">åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ·»åŠ å¯¹ <code>Live Activity</code> çš„æ”¯æŒ</h2>
<p>æè¿°ä½ çš„ <code>Live Activity</code> çš„ç”¨æˆ·ç•Œé¢çš„ä»£ç æ˜¯ä½ çš„åº”ç”¨ç¨‹åºçš„å°å·¥å…·æ‰©å±•çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœä½ å·²ç»åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æä¾›äº†å°éƒ¨ä»¶ï¼Œä½ å¯ä»¥å°† <code>Live Activity</code> çš„ç”¨æˆ·ç•Œé¢ä»£ç æ·»åŠ åˆ°ä½ ç°æœ‰çš„å°éƒ¨ä»¶æ‰©å±•ä¸­ï¼Œå¹¶å¯èƒ½åœ¨ä½ çš„å°éƒ¨ä»¶å’Œ <code>Live Activity</code> ä¹‹é—´é‡å¤ä½¿ç”¨ä»£ç ã€‚ç„¶è€Œï¼Œå°½ç®¡ <code>Live Activity</code> åˆ©ç”¨äº† WidgetKit çš„åŠŸèƒ½ï¼Œä½†å®ƒä»¬å¹¶ä¸æ˜¯å°å·¥å…·ã€‚ä¸ä½ ç”¨æ¥æ›´æ–°å°éƒ¨ä»¶çš„ç”¨æˆ·ç•Œé¢çš„æ—¶é—´çº¿æœºåˆ¶ä¸åŒï¼Œä½ ä»ä½ çš„åº”ç”¨ç¨‹åºä¸­é€šè¿‡ ActivityKit æˆ–è¿œç¨‹æ¨é€é€šçŸ¥æ¥æ›´æ–°ä¸€ä¸ª <code>Live Activity</code>ã€‚</p>
<blockquote>
<p>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå°éƒ¨ä»¶æ‰©å±•æ¥é‡‡ç”¨ <code>Live Activity</code>ï¼Œè€Œä¸æä¾›å°éƒ¨ä»¶ã€‚ç„¶è€Œï¼Œè€ƒè™‘åŒæ—¶æä¾›å°éƒ¨ä»¶å’Œ <code>Live Activity</code>ï¼Œè®©äººä»¬åœ¨ä»–ä»¬çš„ä¸»å±å¹•å’Œé”å±ä¸Šæ·»åŠ å¯ç¥è§çš„ä¿¡æ¯å’Œä¸ªäººè§¦æ‘¸ã€‚</p>
</blockquote>
<p>è¦åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å¢åŠ å¯¹ <code>Live Activity</code> çš„æ”¯æŒã€‚</p>
<ol>
<li>å¦‚æœä½ è¿˜æ²¡æœ‰åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ·»åŠ ä¸€ä¸ªå°éƒ¨ä»¶ï¼Œè¯·åˆ›å»ºä¸€ä¸ªå°éƒ¨ä»¶æ‰©å±•ã€‚å…³äºåˆ›å»ºå°éƒ¨ä»¶æ‰©å±•çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… WidgetKit å’Œåˆ›å»ºå°éƒ¨ä»¶æ‰©å±•ã€‚</li>
<li>æ‰“å¼€ä½ çš„åº”ç”¨ç¨‹åºçš„ Info.plist æ–‡ä»¶ï¼Œæ·»åŠ æ”¯æŒ <code>Live Activity</code> æ¡ç›®ï¼Œå¹¶å°†å…¶å¸ƒå°”å€¼è®¾ç½®ä¸º YESã€‚æˆ–è€…ï¼Œä»¥æºä»£ç å½¢å¼æ‰“å¼€ Info.plist æ–‡ä»¶ï¼Œæ·»åŠ å¯†é’¥ NSSupportsLiveActivitiesï¼Œç„¶åå°†å…¶ç±»å‹è®¾ä¸ºå¸ƒå°”å€¼ï¼Œå…¶å€¼è®¾ä¸º YESã€‚å¦‚æœä½ çš„é¡¹ç›®æ²¡æœ‰ Info.plist æ–‡ä»¶ï¼Œä¸ºä½ çš„ iOS åº”ç”¨ç›®æ ‡æ·»åŠ è‡ªå®šä¹‰ iOS ç›®æ ‡å±æ€§åˆ—è¡¨ä¸­çš„æ¡ç›®ã€‚</li>
<li>æ·»åŠ å®šä¹‰ ActivityAttributes ç»“æ„çš„ä»£ç ï¼Œæè¿°ä½ çš„ <code>Live Activity</code> çš„é™æ€å’ŒåŠ¨æ€æ•°æ®ã€‚</li>
<li>ä½¿ç”¨ä½ å®šä¹‰çš„ ActivityAttributes æ¥åˆ›å»ºä½ éœ€è¦çš„ ActivityConfiguration æ¥å¯åŠ¨ä¸€ä¸ª <code>Live Activity</code>ã€‚</li>
<li>æ·»åŠ ä»£ç æ¥é…ç½®ã€å¯åŠ¨ã€æ›´æ–°å’Œç»“æŸä½ çš„ <code>Live Activity</code>ã€‚</li>
</ol>
<h2 id="å®šä¹‰ä¸€ç»„é™æ€å’ŒåŠ¨æ€æ•°æ®">å®šä¹‰ä¸€ç»„é™æ€å’ŒåŠ¨æ€æ•°æ®</h2>
<p>åœ¨ä½ ä¸ºä½ çš„ <code>Live Activity</code> åˆ›å»ºé…ç½®å¯¹è±¡ä¹‹å‰ï¼Œé€šè¿‡å®ç° ActivityAttributes æ¥æè¿°ä½ çš„ <code>Live Activity</code> æ‰€æ˜¾ç¤ºçš„æ•°æ®ã€‚ActivityAttributes é€šçŸ¥ç³»ç»Ÿå…³äºå‡ºç°åœ¨ <code>Live Activity</code> ä¸­çš„é™æ€æ•°æ®ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ ActivityAttributes æ¥å£°æ˜æ‰€éœ€çš„è‡ªå®šä¹‰ Activity.ContentState ç±»å‹ï¼Œæè¿°ä½ çš„ <code>Live Activity</code> çš„åŠ¨æ€æ•°æ®ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼ŒPizzaDeliveryAttributes æè¿°äº†ä»¥ä¸‹é™æ€æ•°æ®ï¼šè®¢è´­çš„æŠ«è¨æ•°é‡ï¼Œå®¢æˆ·éœ€è¦æ”¯ä»˜çš„é‡‘é¢ï¼Œä»¥åŠè®¢å•å·ã€‚æ³¨æ„ä»£ç æ˜¯å¦‚ä½•å®šä¹‰ Activity.ContentState æ¥å°è£…åŠ¨æ€æ•°æ®çš„ï¼šé€æŠ«è¨çš„å¸æœºçš„åå­—å’Œé¢„è®¡é€è¾¾æ—¶é—´ã€‚æ­¤å¤–ï¼Œè¿™ä¸ªä¾‹å­å®šä¹‰äº†ç±»å‹åˆ«å PizzaDeliveryStatusï¼Œä»¥ä½¿ä»£ç æ›´å…·æœ‰æè¿°æ€§å’Œæ˜“äºé˜…è¯»ã€‚</p>
<pre><code class="language-Swift">import Foundation
import ActivityKit

struct PizzaDeliveryAttributes: ActivityAttributes {
    public typealias PizzaDeliveryStatus = ContentState

    public struct ContentState: Codable, Hashable {
        var driverName: String
        var deliveryTimer: ClosedRange&lt;Date&gt;
    }

    var numberOfPizzas: Int
    var totalAmount: String
    var orderNumber: String
}
</code></pre>
<h2 id="ä¸ºä½ çš„ç°åœºæ´»åŠ¨åˆ›å»ºé…ç½®">ä¸ºä½ çš„ç°åœºæ´»åŠ¨åˆ›å»ºé…ç½®</h2>
<p>åœ¨ä½ ç”¨ ActivityAttributes ç»“æ„æ·»åŠ ä»£ç æ¥æè¿°å‡ºç°åœ¨ <code>Live Activity</code> ä¸­çš„æ•°æ®åï¼Œåœ¨ä½ çš„ widget å®ç°ä¸­æ·»åŠ ä»£ç æ¥è¿”å› ActivityConfiguration. ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨å‰é¢ä¾‹å­ä¸­çš„ PizzaDeliveryAttributes ç»“æ„æ¥é…ç½®ä½ çš„ <code>Live Activity</code>ã€‚</p>
<pre><code class="language-Swift">import SwiftUI
import WidgetKit

@main
struct PizzaDeliveryActivityWidget: Widget {
    var body: some WidgetConfiguration {ActivityConfiguration(for: PizzaDeliveryAttributes.self) { context in
            // Create the view that appears on the Lock Screen and as a
            // banner on the Home Screen of devices that don't support the
            // Dynamic Island.
            // ...
        } dynamicIsland: { context in
            // Create the views that appear in the Dynamic Island.
            // ...
        }
    }
}
</code></pre>
<p>å¦‚æœä½ çš„åº”ç”¨ç¨‹åºå·²ç»æä¾›äº† widgetï¼Œè¯·å°† <code>Live Activity</code> æ·»åŠ åˆ°ä½ çš„ WidgetBundleã€‚å¦‚æœä½ æ²¡æœ‰ WidgetBundle-- ä¾‹å¦‚ï¼Œå¦‚æœä½ åªæä¾›ä¸€ä¸ª widget-- æŒ‰ç…§åˆ›å»º widget æ‰©å±•ä¸­çš„æè¿°ï¼Œåˆ›å»ºä¸€ä¸ª widget bundleï¼Œç„¶åå°† <code>Live Activity</code> æ·»åŠ åˆ°å…¶ä¸­ã€‚ä¸‹é¢çš„ä¾‹å­æ˜¾ç¤ºäº†ä½ å¦‚ä½•ä½¿ç”¨å¸¦æœ‰å¯ç”¨æ€§å­å¥çš„ if è¯­å¥ï¼Œåªåœ¨è®¾å¤‡æ”¯æŒ <code>Live Activity</code> çš„æƒ…å†µä¸‹å°† <code>Live Activity</code> æ·»åŠ åˆ°ä½ çš„ Widget æ†ç»‘åŒ…ã€‚</p>
<pre><code class="language-Swift">@main
struct PizzaDeliveryWidgets: WidgetBundle {
    var body: some Widget {FavoritePizzaWidget()

        if #available(iOS 16.1, *) {PizzaDeliveryLiveActivity()
        }
    }
}
</code></pre>
<h2 id="åˆ›å»ºé”å±è§†å›¾">åˆ›å»ºé”å±è§†å›¾</h2>
<p>ä¸ºäº†åˆ›å»º <code>Live Activity</code> çš„ç”¨æˆ·ç•Œé¢ï¼Œä½ åœ¨ä¹‹å‰åˆ›å»ºçš„å°éƒ¨ä»¶æ‰©å±•ä¸­ä½¿ç”¨ SwiftUIã€‚ä¸éƒ¨ä»¶ç±»ä¼¼ï¼Œä½ ä¸æä¾› <code>Live Activity</code> çš„ç”¨æˆ·ç•Œé¢çš„å°ºå¯¸ï¼Œè€Œæ˜¯è®©ç³»ç»Ÿå†³å®šé€‚å½“çš„å°ºå¯¸ã€‚</p>
<p>ä»å‡ºç°åœ¨é”å±ä¸Šçš„è§†å›¾å¼€å§‹ã€‚ä¸‹é¢çš„ä»£ç ç”¨æ ‡å‡†çš„ SwiftUI è§†å›¾æ˜¾ç¤º PizzaDeliveryAttributes ç»“æ„æè¿°çš„ä¿¡æ¯ã€‚</p>
<pre><code class="language-Swift">@main
struct PizzaDeliveryWidget: Widget {    
    var body: some WidgetConfiguration {ActivityConfiguration(for: PizzaDeliveryAttributes.self) { context in
	    // Create the view that appears on the Lock Screen and as a
            // banner on the Home Screen of devices that don't support the
            // Dynamic Island.
            LockScreenLiveActivityView(context: context)
        } dynamicIsland: { context in
            // Create the views that appear in the Dynamic Island.
            // ...
        }
    }
}

struct LockScreenLiveActivityView: View {
    let context: ActivityViewContext&lt;PizzaDeliveryAttributes&gt;
    
    var body: some View {
        VStack {Spacer()
            Text(&quot;\(context.state.driverName) is on their way with your pizza!&quot;)Spacer()
            HStack {Spacer()
                Label {Text(&quot;\(context.attributes.numberOfPizzas) Pizzas&quot;) } icon: {Image(systemName: &quot;bag&quot;)
                        .foregroundColor(.indigo)
                }
                .font(.title2)
                Spacer()
                Label {Text(timerInterval: context.state.deliveryTimer, countsDown: true)
                        .multilineTextAlignment(.center)
                        .frame(width: 50)
                        .monospacedDigit() } icon: {Image(systemName: &quot;timer&quot;)
                        .foregroundColor(.indigo)
                }
                .font(.title2)
                Spacer() }
            Spacer() }
        .activitySystemActionForegroundColor(.indigo)
        .activityBackgroundTint(.cyan)
    }
}
</code></pre>
<blockquote>
<p>å¦‚æœé”å±ä¸Šçš„ <code>Live Activity</code> çš„é«˜åº¦è¶…è¿‡ 160 ç‚¹ï¼Œç³»ç»Ÿå¯èƒ½ä¼šå°†å…¶æˆªæ–­ã€‚<code>Dynamic Island </code> ä¸­çš„æ‰©å±•è§†å›¾çš„é«˜åº¦ä¸èƒ½è¶…è¿‡ 144 ç‚¹ã€‚</p>
</blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¸ºæ–‡æœ¬ä½¿ç”¨é»˜è®¤çš„ä¸»è‰²è°ƒï¼Œä¸ºä½ çš„ <code>Live Activity</code> ä½¿ç”¨æœ€é€‚åˆäººçš„é”å±çš„èƒŒæ™¯é¢œè‰²ã€‚è¦è®¾ç½®è‡ªå®šä¹‰çš„è‰²è°ƒé¢œè‰²ï¼Œè¯·ä½¿ç”¨ activityBackgroundTint(<em>ğŸ˜ƒ è§†å›¾ä¿®æ”¹å™¨ï¼Œå¦‚ä¸Šä¾‹æ‰€ç¤ºã€‚æ­¤å¤–ï¼Œè¯¥ç¤ºä¾‹ä½¿ç”¨ activitySystemActionForegroundColor(</em>ğŸ˜ƒ è§†å›¾ä¿®æ”¹å™¨æ¥å®šåˆ¶è¾…åŠ©æŒ‰é’®çš„æ–‡æœ¬é¢œè‰²ï¼Œè¯¥æŒ‰é’®å…è®¸äººä»¬åœ¨é”å±ä¸Šç»“æŸ <code>Live Activity</code>ã€‚</p>
<p>è¦è®¾ç½®è‡ªå®šä¹‰èƒŒæ™¯è‰²è°ƒé¢œè‰²çš„åŠé€æ˜æ€§ï¼Œè¯·ä½¿ç”¨ opacity(_ğŸ˜ƒ è§†å›¾ä¿®æ”¹å™¨æˆ–æŒ‡å®šä¸é€æ˜çš„èƒŒæ™¯é¢œè‰²ã€‚</p>
<blockquote>
<p>åœ¨åŒ…å« Always-On Retina æ˜¾ç¤ºå±çš„è®¾å¤‡ä¸Šï¼Œç³»ç»Ÿä¼šè°ƒæš—å±å¹•ä»¥ä¿æŒç”µæ± å¯¿å‘½ï¼Œå¹¶åœ¨é”å±ä¸Šæ˜¾ç¤º <code>Live Activity</code>ï¼Œå¦‚åŒåœ¨é»‘æš—æ¨¡å¼ä¸‹ä¸€æ ·ã€‚ä½¿ç”¨ SwiftUI çš„ isLuminanceReduced ç¯å¢ƒå€¼æ¥æ£€æµ‹ Always Onï¼Œå¹¶ä½¿ç”¨åœ¨ Always On ä¸‹çœ‹èµ·æ¥å¾ˆæ£’çš„å›¾åƒã€‚</p>
</blockquote>
<h2 id="åˆ›å»ºç´§å‡‘å’Œæœ€å°çš„è§†å›¾">åˆ›å»ºç´§å‡‘å’Œæœ€å°çš„è§†å›¾</h2>
<p><code>Live Activity</code> å‡ºç°åœ¨æ”¯æŒå®ƒçš„è®¾å¤‡çš„ <code>Dynamic Island </code> ä¸­ã€‚å½“ä½ å¯åŠ¨ä¸€ä¸ª <code>Live Activity</code> å¹¶ä¸”å®ƒæ˜¯å”¯ä¸€æ´»è·ƒçš„ <code>Live Activity</code> æ—¶ï¼Œç´§å‡‘çš„å‰å¯¼å’Œåå¯¼è§†å›¾ä¼šä¸€èµ·å‡ºç°ï¼Œåœ¨ <code>Dynamic Island </code> ä¸­å½¢æˆä¸€ä¸ªè¿è´¯çš„è§†å›¾ã€‚å½“ä¸€ä¸ªä»¥ä¸Šçš„ <code>Live Activity</code> è¢«æ¿€æ´»æ—¶ -- æ— è®ºæ˜¯æ¥è‡ªä½ çš„åº”ç”¨ç¨‹åºè¿˜æ˜¯æ¥è‡ªå¤šä¸ªåº”ç”¨ç¨‹åº -- ç³»ç»Ÿä¼šé€‰æ‹©å“ªäº› <code>Live Activity</code> æ˜¯å¯è§çš„ï¼Œå¹¶ä½¿ç”¨æ¯ä¸ªæ´»åŠ¨çš„æœ€å°è§†å›¾æ˜¾ç¤ºä¸¤ä¸ªã€‚ä¸€ä¸ªæœ€å°çš„è§†å›¾å‡ºç°åœ¨ <code>Dynamic Island </code> ä¸­ï¼Œè€Œå¦ä¸€ä¸ªåˆ™æ˜¯åˆ†ç¦»çš„ã€‚<br>
<img src="https://www.yiios.com/post-images/1730794459607.png" alt="" loading="lazy"></p>
<blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>Dynamic Island </code> ä¸­çš„ç´§å‡‘å’Œæœ€å°è§†å›¾ä½¿ç”¨é»‘è‰²èƒŒæ™¯é¢œè‰²å’Œç™½è‰²æ–‡æœ¬ã€‚ä½¿ç”¨ keylineTint(_ğŸ˜ƒ ä¿®æ”¹å™¨ä¸º <code>Dynamic Island </code> åº”ç”¨ä¸€ä¸ªå¯é€‰çš„è‰²è°ƒé¢œè‰² -- ä¾‹å¦‚ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼Œåº”ç”¨ä¸€ä¸ªé’è‰²çš„è‰²è°ƒé¢œè‰²ã€‚</p>
</blockquote>
<p>ä¸‹é¢çš„ä¾‹å­æ˜¾ç¤ºäº†æŠ«è¨å¤–å–åº”ç”¨ç¨‹åºå¦‚ä½•ä½¿ç”¨æ ‡å‡†çš„ SwiftUI è§†å›¾æä¾›æ‰€éœ€çš„ç´§å‡‘å’Œæœ€å°çš„è§†å›¾ã€‚</p>
<pre><code class="language-Swift">import SwiftUI
import WidgetKit

@main
struct PizzaDeliveryWidget: Widget {    
    var body: some WidgetConfiguration {ActivityConfiguration(for: PizzaDeliveryAttributes.self) { context in
            // Create the view that appears on the Lock Screen and as a
            // banner on the Home Screen of devices that don't support the
            // Dynamic Island.
            // ...
        } dynamicIsland: { context in
            // Create the views that appear in the Dynamic Island.
            DynamicIsland {
		            // Create the expanded view.
		            // ...
		            
            } compactLeading: {
                Label {Text(&quot;\(context.attributes.numberOfPizzas) Pizzas&quot;) } icon: {Image(systemName: &quot;bag&quot;)
                        .foregroundColor(.indigo)
                }
                .font(.caption2)
            } compactTrailing: {Text(timerInterval: context.state.deliveryTimer, countsDown: true)
                    .multilineTextAlignment(.center)
                    .frame(width: 40)
                    .font(.caption2)
            } minimal: {VStack(alignment: .center) {Image(systemName: &quot;timer&quot;)
                    Text(timerInterval: context.state.deliveryTimer, countsDown: true)
                        .multilineTextAlignment(.center)
                        .monospacedDigit().font(.caption2)
                }
            }
            .keylineTint(.cyan)
        }
    }
}
</code></pre>
<h2 id="åˆ›å»ºæ‰©å±•è§†å›¾">åˆ›å»ºæ‰©å±•è§†å›¾</h2>
<p>é™¤äº†ç´§å‡‘å’Œæœ€å°è§†å›¾ï¼Œä½ å¿…é¡»æ”¯æŒæ‰©å±•è§†å›¾ã€‚å½“ä¸€ä¸ªäººè§¦æ‘¸å¹¶æŒæœ‰ä¸€ä¸ªç´§å‡‘æˆ–æœ€å°çš„è§†å›¾æ—¶ï¼Œå®ƒå°±ä¼šå‡ºç°ï¼Œä¹Ÿä¼šåœ¨ <code>Live Activity</code> æ›´æ–°æ—¶çŸ­æš‚å‡ºç°ã€‚æ²¡æœ‰ <code>Dynamic Island </code> çš„è®¾å¤‡ä¹Ÿä¼šåœ¨ä½ æ›´æ–° <code>Live Activity</code> æ—¶ä»¥æ¨ªå¹…çš„å½¢å¼æ˜¾ç¤ºæ‰©å±•è§†å›¾ã€‚ä½¿ç”¨ DynamicIslandExpandedRegionPosition æ¥æŒ‡å®šæ‚¨å¸Œæœ› SwiftUI å®šä½æ‚¨å†…å®¹çš„è¯¦ç»†è¯´æ˜ã€‚ä¸‹é¢çš„ä¾‹å­æ˜¾ç¤ºäº†æŠ«è¨å¤–å–åº”ç”¨ç¨‹åºå¦‚ä½•åˆ›å»ºå…¶æ‰©å±•è§†å›¾ã€‚</p>
<pre><code class="language-Swift">@main
struct PizzaDeliveryWidget: Widget {
    var body: some WidgetConfiguration {ActivityConfiguration(for: PizzaDeliveryAttributes.self) { context in
            // Create the view that appears on the Lock Screen and as a
            // banner on the Home Screen of devices that don't support the
            // Dynamic Island.
            LockScreenLiveActivityView(context: context)
        } dynamicIsland: { context in
            // Create the views that appear in the Dynamic Island.
            DynamicIsland {
                // Create the expanded view.
                DynamicIslandExpandedRegion(.leading) {Label(&quot;\(context.attributes.numberOfPizzas) Pizzas&quot;, systemImage: &quot;bag&quot;).foregroundColor(.indigo)
                        .font(.title2)
                }
                
                DynamicIslandExpandedRegion(.trailing) {
                    Label {Text(timerInterval: context.state.deliveryTimer, countsDown: true)
                            .multilineTextAlignment(.trailing)
                            .frame(width: 50)
                            .monospacedDigit() } icon: {Image(systemName: &quot;timer&quot;)
                            .foregroundColor(.indigo)
                    }
                    .font(.title2)
                }
                
                DynamicIslandExpandedRegion(.center) {Text(&quot;\(context.state.driverName) is on their way!&quot;).lineLimit(1)
                        .font(.caption)
                }
                
                DynamicIslandExpandedRegion(.bottom) {
                    Button {// Deep link into your app.} label: {Label(&quot;Call driver&quot;, systemImage: &quot;phone&quot;)
                    }
                    .foregroundColor(.indigo)
                }
            } compactLeading: {
                // Create the compact leading view.
                // ...
            } compactTrailing: {
                // Create the compact trailing view.
                // ...
            } minimal: {
                // Create the minimal view.
                // ...
            }
            .keylineTint(.yellow)
        }
    }
}
</code></pre>
<p>ä¸ºäº†æ¸²æŸ“å‡ºç°åœ¨æ‰©å±•çš„ <code>Live Activity</code> ä¸­çš„è§†å›¾ï¼Œç³»ç»Ÿå°†æ‰©å±•çš„è§†å›¾åˆ’åˆ†ä¸ºä¸åŒçš„åŒºåŸŸã€‚æ³¨æ„è¿™ä¸ªä¾‹å­æ˜¯å¦‚ä½•è¿”å›ä¸€ä¸ªæŒ‡å®šäº†å‡ ä¸ª DynamicIslandExpandedRegion å¯¹è±¡çš„ DynamicIslandã€‚ä¼ é€’ä»¥ä¸‹çš„ DynamicIslandExpandedRegionPosition å€¼ï¼Œåœ¨å±•å¼€çš„è§†å›¾ä¸­çš„æŒ‡å®šä½ç½®å¸ƒç½®ä½ çš„å†…å®¹ã€‚</p>
<ul>
<li>centerï¼ˆä¸­å¿ƒï¼‰å°†å†…å®¹æ”¾åœ¨ TrueDepth æ‘„åƒæœºçš„ä¸‹é¢ã€‚</li>
<li>leadingï¼ˆå‰ç¼˜ï¼‰å°†å†…å®¹æ²¿æ‰©å±•çš„ <code>Live Activity</code> çš„å‰ç¼˜æ”¾ç½®åœ¨ TrueDepth æ‘„åƒæœºæ—è¾¹ï¼Œå¹¶å°†å…¶ä»–å†…å®¹åŒ…è£¹åœ¨å…¶ä¸‹é¢ã€‚</li>
<li>trailingï¼ˆå°¾éƒ¨ï¼‰å°†å†…å®¹æ²¿æ‰©å±•çš„ <code>Live Activity</code> çš„å°¾éƒ¨è¾¹ç¼˜æ”¾ç½®åœ¨ TrueDepth æ‘„åƒæœºæ—è¾¹ï¼Œå¹¶å°†å…¶ä»–å†…å®¹åŒ…åœ¨å…¶ä¸‹é¢ã€‚</li>
<li>bottomï¼ˆåº•éƒ¨ï¼‰å°†å†…å®¹æ”¾åœ¨å‰éƒ¨ã€å°¾éƒ¨å’Œä¸­éƒ¨çš„å†…å®¹ä¸‹é¢ã€‚</li>
</ul>
<figure data-type="image" tabindex="1"><img src="https://www.yiios.com/post-images/1730794442959.png" alt="" loading="lazy"></figure>
<p>ä¸ºäº†æ¸²æŸ“å‡ºç°åœ¨æ‰©å±•çš„ <code>Live Activity</code> ä¸­çš„å†…å®¹ï¼Œç³»ç»Ÿé¦–å…ˆç¡®å®šä¸­å¿ƒå†…å®¹çš„å®½åº¦ï¼ŒåŒæ—¶è€ƒè™‘åˆ°å‰é¢å’Œåé¢çš„å†…å®¹çš„æœ€å°å®½åº¦ã€‚ç„¶åï¼Œç³»ç»Ÿæ ¹æ®å†…å®¹çš„å‚ç›´ä½ç½®æ¥æ”¾ç½®å’Œè°ƒæ•´å‰å¯¼å’Œå°¾éšå†…å®¹çš„å¤§å°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå‰å¯¼å’Œå°¾éšçš„å†…å®¹ä¼šå¾—åˆ°ç­‰é‡çš„æ°´å¹³ç©ºé—´ã€‚</p>
<figure data-type="image" tabindex="2"><img src="https://www.yiios.com/post-images/1730794434780.png" alt="" loading="lazy"></figure>
<p>ä½ å¯ä»¥é€šè¿‡å‘ init(_:priority:content:) åˆå§‹åŒ–å™¨ä¼ é€’ä¸€ä¸ªä¼˜å…ˆçº§æ¥å‘Šè¯‰ç³»ç»Ÿä¼˜å…ˆå¤„ç†å…¶ä¸­ä¸€ä¸ª DynamicIslandExpandedRegion è§†å›¾ã€‚ç³»ç»Ÿä¼šä»¥ <code>Dynamic Island </code> çš„å…¨éƒ¨å®½åº¦æ¸²æŸ“å…·æœ‰æœ€é«˜ä¼˜å…ˆçº§çš„è§†å›¾ã€‚</p>
<blockquote>
<p>å¦‚æœå†…å®¹å¤ªå®½ï¼Œæ— æ³•å‡ºç°åœ¨ TrueDepth æ‘„åƒæœºæ—è¾¹çš„é¢†å…ˆä½ç½®ï¼Œè¯·ä½¿ç”¨ belowIfTooWide ä¿®æ”¹å™¨æ¥æ¸²æŸ“ TrueDepth æ‘„åƒæœºä¸‹é¢çš„é¢†å…ˆå†…å®¹ã€‚</p>
</blockquote>
<h2 id="åˆ›å»ºä¸€ä¸ªè¿›å…¥ä½ çš„åº”ç”¨ç¨‹åºçš„æ·±åº¦é“¾æ¥">åˆ›å»ºä¸€ä¸ªè¿›å…¥ä½ çš„åº”ç”¨ç¨‹åºçš„æ·±åº¦é“¾æ¥</h2>
<p>äººä»¬ç‚¹å‡»ä¸€ä¸ª <code>Live Activity</code> æ¥å¯åŠ¨ä½ çš„åº”ç”¨ç¨‹åºã€‚ä¸ºäº†æ”¹å–„ç”¨æˆ·çš„ä½“éªŒï¼Œä½ å¯ä»¥ä½¿ç”¨ widgetURL(_ğŸ˜ƒ æ¥åˆ›å»ºä¸€ä¸ªæ·±åº¦é“¾æ¥ï¼Œä»é”å±ã€ç´§å‡‘é¢†å…ˆã€ç´§å‡‘è½åå’Œæœ€å°è§†å›¾è¿›å…¥ä½ çš„åº”ç”¨ç¨‹åºã€‚å½“ç´§å‡‘å‰å¯¼å’Œå°¾éšè§†å›¾å¯è§æ—¶ï¼Œç¡®ä¿ä¸¤è€…éƒ½é“¾æ¥åˆ°ä½ çš„åº”ç”¨ç¨‹åºä¸­çš„åŒä¸€ä¸ªå±å¹•ã€‚</p>
<p>æ‰©å±•è§†å›¾æä¾›äº†é¢å¤–çš„é€‰é¡¹ï¼Œå¯ä»¥ä½¿ç”¨ SwiftUI çš„é“¾æ¥åˆ›å»ºè¿›å…¥ä½ çš„åº”ç”¨ç¨‹åºçš„æ·±åº¦é“¾æ¥ï¼Œä»¥è·å¾—æ›´å¤šçš„æ•ˆç”¨ã€‚ä¾‹å¦‚ï¼Œé€æ¯”è¨çš„åº”ç”¨ç¨‹åºå¯ä»¥åŒ…æ‹¬ä¸¤ä¸ª SwiftUI è§†å›¾ã€‚ä¸€ä¸ªè§†å›¾å¯ä»¥åœ¨åº”ç”¨ä¸­æ‰“å¼€å½“å‰é€é¤çš„åœ°å›¾ï¼Œç¬¬äºŒä¸ªè§†å›¾å¯ä»¥æ‰“å¼€ä¸€ä¸ªå±å¹•ï¼Œè®©äººä»¬ç»™é€æŠ«è¨çš„äººæ‰“ç”µè¯ã€‚</p>
<h2 id="ç¡®ä¿-live-activity-æ˜¯å¯ç”¨çš„">ç¡®ä¿ <code>Live Activity</code> æ˜¯å¯ç”¨çš„</h2>
<p><code>Live Activity</code> ä»…åœ¨ iPhone ä¸Šå¯ç”¨ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºåœ¨å¤šä¸ªå¹³å°ä¸Šå¯ç”¨ï¼Œå¹¶æä¾›å°éƒ¨ä»¶æ‰©å±•ï¼Œè¯·ç¡®ä¿ <code>Live Activity</code> åœ¨è¿è¡Œæ—¶å¯ç”¨ã€‚æ­¤å¤–ï¼Œç”¨æˆ·å¯ä»¥åœ¨ &quot;è®¾ç½®&quot; åº”ç”¨ç¨‹åºä¸­é€‰æ‹©åœç”¨åº”ç”¨ç¨‹åºçš„ <code>Live Activity</code>ã€‚</p>
<p>è¦æŸ¥çœ‹ <code>Live Activity</code> æ˜¯å¦å¯ç”¨ä»¥åŠç”¨æˆ·æ˜¯å¦å…è®¸ä½ çš„åº”ç”¨ä½¿ç”¨ <code>Live Activity</code>ã€‚</p>
<ul>
<li>ä½¿ç”¨ areActivitiesEnabled æ¥åŒæ­¥ç¡®å®šæ˜¯å¦åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ˜¾ç¤ºå¯åŠ¨ <code>Live Activity</code> çš„ç”¨æˆ·ç•Œé¢ã€‚</li>
<li>é€šè¿‡è§‚å¯Ÿ activityEnablementUpdates æµçš„ä»»ä½•ç”¨æˆ·æˆæƒå˜åŒ–æ¥æ¥æ”¶å¼‚æ­¥çš„ç”¨æˆ·æˆæƒæ›´æ–°ï¼Œå¹¶å¯¹å…¶ä½œå‡ºç›¸åº”çš„å“åº”ã€‚</li>
</ul>
<blockquote>
<p>ä¸€ä¸ªåº”ç”¨å¯ä»¥å¯åŠ¨å¤šä¸ª <code>Live Activity</code>ï¼Œè€Œä¸€ä¸ªè®¾å¤‡å¯ä»¥ä»å¤šä¸ªåº”ç”¨ä¸­è¿è¡Œ <code>Live Activity</code>ã€‚é™¤äº†ç¡®ä¿ <code>Live Activity</code> æ˜¯å¯ç”¨çš„ä¹‹å¤–ï¼Œåœ¨å¯åŠ¨ã€æ›´æ–°æˆ–ç»“æŸ <code>Live Activity</code> æ—¶ï¼Œè¦å§‹ç»ˆä¼˜é›…åœ°å¤„ç†ä»»ä½•é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œå¯åŠ¨ä¸€ä¸ª <code>Live Activity</code> å¯èƒ½ä¼šå¤±è´¥ï¼Œå› ä¸ºç”¨æˆ·çš„è®¾å¤‡å¯èƒ½å·²ç»è¾¾åˆ°äº†æ´»åŠ¨ <code>Live Activity</code> çš„ä¸Šé™ã€‚</p>
</blockquote>
<h2 id="å¯åŠ¨-live-activity">å¯åŠ¨ <code>Live Activity</code></h2>
<p>å½“ä½ çš„åº”ç”¨ç¨‹åºå¤„äºå‰å°æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡ request(attributes:contentState:pushType:) å‡½æ•°åœ¨åº”ç”¨ç¨‹åºçš„ä»£ç ä¸­å¯åŠ¨ä¸€ä¸ª <code>Live Activity</code>ã€‚å®ƒå°†ä½ åˆ›å»ºçš„å±æ€§å’Œå†…å®¹çŠ¶æ€ä½œä¸ºå‚æ•°ï¼Œæä¾›å‡ºç°åœ¨ <code>Live Activity</code> ä¸­çš„åˆå§‹å€¼ï¼Œå¹¶å‘Šè¯‰ç³»ç»Ÿå“ªäº›æ•°æ®æ˜¯åŠ¨æ€çš„ã€‚å¦‚æœä½ å®ç°äº†è¿œç¨‹æ¨é€é€šçŸ¥æ¥æ›´æ–° <code>Live Activity</code>ï¼Œä¹Ÿè¦æä¾› pushType å‚æ•°ã€‚</p>
<p>ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ä¸ºå‰é¢çš„ä¾‹å­ä¸­çš„æ¯”è¨é€é¤åº”ç”¨å¯åŠ¨äº†ä¸€ä¸ªæ–°çš„ <code>Live Activity</code>ã€‚</p>
<pre><code class="language-Swift">var future = Calendar.current.date(byAdding: .minute, value: (Int(minutes) ?? 0), to: Date())!
future = Calendar.current.date(byAdding: .second, value: (Int(seconds) ?? 0), to: future)!
let date = Date.now...future
let initialContentState = PizzaDeliveryAttributes.ContentState(driverName: &quot;Bill James&quot;, deliveryTimer:date)
let activityAttributes = PizzaDeliveryAttributes(numberOfPizzas: 3, totalAmount: &quot;$42.00&quot;, orderNumber: &quot;12345&quot;)

do {deliveryActivity = try Activity.request(attributes: activityAttributes, contentState: initialContentState)
    print(&quot;Requested a pizza delivery `Live Activity` \(String(describing: deliveryActivity?.id)).&quot;)} catch (let error) {print(&quot;Error requesting pizza delivery `Live Activity` \(error.localizedDescription).&quot;)
}
</code></pre>
<p>è¯·æ³¨æ„ï¼Œä¸Šé¢çš„ä»£ç æ®µæ²¡æœ‰ä¼ é€’ pushType å‚æ•°ï¼Œè€Œæ˜¯åœ¨ä¸ä½¿ç”¨è¿œç¨‹æ¨é€é€šçŸ¥æ›´æ–°å†…å®¹çš„æƒ…å†µä¸‹å¯åŠ¨ä¸€ä¸ª <code>Live Activity</code>ã€‚å®ƒè¿˜å°†è¿”å›çš„ <code>Live Activity</code> å¯¹è±¡å­˜å‚¨åœ¨ deliveryActivity å±æ€§ä¸­ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥æ›´æ–°å’Œç»“æŸ <code>Live Activity</code>ã€‚å…³äºä½¿ç”¨è¿œç¨‹æ¨é€é€šçŸ¥æ¥æ›´æ–°ä½ çš„ <code>Live Activity</code> çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ä½¿ç”¨è¿œç¨‹æ¨é€é€šçŸ¥æ¥æ›´æ–°å’Œç»“æŸä½ çš„ <code>Live Activity</code>ã€‚</p>
<blockquote>
<p>ä½ åªèƒ½åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å¯åŠ¨ä¸€ä¸ª <code>Live Activity</code>ï¼Œè€Œå®ƒæ˜¯åœ¨å‰å°ã€‚ç„¶è€Œï¼Œå½“ <code>Live Activity</code> åœ¨åå°è¿è¡Œæ—¶ï¼Œä½ å¯ä»¥ä»ä½ çš„åº”ç”¨ç¨‹åºä¸­æ›´æ–°æˆ–ç»“æŸå®ƒ - ä¾‹å¦‚ï¼Œé€šè¿‡ä½¿ç”¨åå°ä»»åŠ¡ã€‚</p>
</blockquote>
<h2 id="æ›´æ–°-live-activity">æ›´æ–° <code>Live Activity</code></h2>
<p>å½“ä½ ä»ä½ çš„åº”ç”¨ç¨‹åºå¯åŠ¨ä¸€ä¸ª <code>Live Activity</code> æ—¶ï¼Œä½¿ç”¨ä½ åœ¨å¯åŠ¨ <code>Live Activity</code> æ—¶æ”¶åˆ°çš„æ´»åŠ¨å¯¹è±¡çš„ update(using:) å‡½æ•°æ¥æ›´æ–°å‡ºç°åœ¨ <code>Live Activity</code> ä¸­çš„æ•°æ®ã€‚è¦æ£€ç´¢ä½ çš„åº”ç”¨ç¨‹åºçš„æ´»åŠ¨ç°åœºæ´»åŠ¨ï¼Œè¯·ä½¿ç”¨æ´»åŠ¨ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒæŠ«è¨é€’é€åº”ç”¨ç¨‹åºå¯ä»¥ç”¨æ–°çš„é€’é€æ—¶é—´å’Œæ–°çš„å¸æœºæ¥æ›´æ–°æ˜¾ç¤ºé€’é€çŠ¶æ€çš„ <code>Live Activity</code>ã€‚å®ƒè¿˜å¯ä»¥ä½¿ç”¨ update(using:alertConfiguration:) å‡½æ•°åœ¨ iPhone å’Œ Apple Watch ä¸Šæ˜¾ç¤ºä¸€ä¸ªæé†’ï¼Œå‘Šè¯‰äººä»¬æ–°çš„ <code>Live Activity</code> å†…å®¹ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚</p>
<pre><code class="language-Swift">var future = Calendar.current.date(byAdding: .minute, value: (Int(minutes) ?? 0), to: Date())!
future = Calendar.current.date(byAdding: .second, value: (Int(seconds) ?? 0), to: future)!
let date = Date.now...future
let updatedDeliveryStatus = PizzaDeliveryAttributes.PizzaDeliveryStatus(driverName: &quot;Anne Johnson&quot;, deliveryTimer: date)
let alertConfiguration = AlertConfiguration(title: &quot;Delivery Update&quot;, body: &quot;Your pizza order will arrive in 25 minutes.&quot;, sound: .default)

await deliveryActivity?.update(using: updatedDeliveryStatus, alertConfiguration: alertConfiguration)
</code></pre>
<blockquote>
<p>æ›´æ–°æ•°æ®çš„å¤§å°ä¸èƒ½è¶…è¿‡ 4KBã€‚</p>
</blockquote>
<p>åœ¨ Apple Watch ä¸Šï¼Œç³»ç»Ÿä½¿ç”¨æ ‡é¢˜å’Œæ­£æ–‡å±æ€§è¿›è¡Œæç¤ºã€‚åœ¨ iPhone ä¸Šï¼Œç³»ç»Ÿä¸æ˜¾ç¤ºå¸¸è§„è­¦æŠ¥ï¼Œè€Œæ˜¯åœ¨ <code>Dynamic Island </code> ä¸­æ˜¾ç¤ºæ‰©å±•çš„ <code>Live Activity</code>ã€‚åœ¨ä¸æ”¯æŒ <code>Dynamic Island </code> çš„è®¾å¤‡ä¸Šï¼Œç³»ç»Ÿä¼šåœ¨ä¸»å±å¹•ä¸Šæ˜¾ç¤ºä¸€ä¸ªæ¨ªå¹…ï¼Œä½¿ç”¨ä½ çš„ <code>Live Activity</code> çš„æ‰©å±•è§†å›¾ã€‚</p>
<h2 id="ä¸ºå†…å®¹æ›´æ–°åˆ¶ä½œåŠ¨ç”»">ä¸ºå†…å®¹æ›´æ–°åˆ¶ä½œåŠ¨ç”»</h2>
<p>å½“ä½ å®šä¹‰ <code>Live Activity</code> çš„ç”¨æˆ·ç•Œé¢æ—¶ï¼Œç³»ç»Ÿä¼šå¿½ç•¥ä»»ä½•åŠ¨ç”»ä¿®æ”¹å™¨ -- ä¾‹å¦‚ withAnimation(<em>:</em>ğŸ˜ƒ å’Œ animation(_:value:)-- è€Œä½¿ç”¨ç³»ç»Ÿçš„åŠ¨ç”»è®¡æ—¶ã€‚ç„¶è€Œï¼Œå½“ <code>Live Activity</code> çš„åŠ¨æ€å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç³»ç»Ÿä¼šæ‰§è¡Œä¸€äº›åŠ¨ç”»ã€‚æ–‡æœ¬è§†å›¾é€šè¿‡æ¨¡ç³Šçš„å†…å®¹è½¬æ¢å¯¹å†…å®¹å˜åŒ–è¿›è¡ŒåŠ¨ç”»å¤„ç†ï¼Œè€Œç³»ç»Ÿå¯¹å›¾åƒå’Œ SF ç¬¦å·çš„å†…å®¹è½¬æ¢è¿›è¡ŒåŠ¨ç”»å¤„ç†ã€‚å¦‚æœä½ æ ¹æ®å†…å®¹æˆ–çŠ¶æ€çš„å˜åŒ–ä»ç”¨æˆ·ç•Œé¢ä¸Šæ·»åŠ æˆ–åˆ é™¤è§†å›¾ï¼Œè§†å›¾ä¼šæ·¡å…¥æ·¡å‡ºã€‚ä½¿ç”¨ä»¥ä¸‹è§†å›¾è½¬æ¢æ¥é…ç½®è¿™äº›å†…ç½®çš„è½¬æ¢ï¼šä¸é€æ˜ã€ç§»åŠ¨ï¼ˆè¾¹ç¼˜ï¼šï¼‰ã€æ»‘åŠ¨ã€æ¨ï¼ˆä»ï¼šï¼‰ï¼Œæˆ–å®ƒä»¬çš„ç»„åˆã€‚æ­¤å¤–ï¼Œç”¨ numericText(countsDown:) ä¸ºå®šæ—¶å™¨æ–‡æœ¬ç”³è¯·åŠ¨ç”»æ•ˆæœã€‚</p>
<blockquote>
<p>åœ¨åŒ…å« Always-On Retina æ˜¾ç¤ºå±çš„è®¾å¤‡ä¸Šï¼Œç³»ç»Ÿä¸ä¼šæ‰§è¡ŒåŠ¨ç”»ä»¥ä¿æŒ Always On çš„ç”µæ± å¯¿å‘½ã€‚è¯·ç¡®ä¿ä½¿ç”¨ SwiftUI çš„ isLuminanceReduced ç¯å¢ƒå€¼æ¥æ£€æµ‹ Always Onï¼Œç„¶åå†å¯¹å†…å®¹è¿›è¡ŒåŠ¨ç”»ä¿®æ”¹ã€‚</p>
</blockquote>
<h2 id="ä»ä½ çš„åº”ç”¨ç¨‹åºä¸­ç»“æŸ-live-activity">ä»ä½ çš„åº”ç”¨ç¨‹åºä¸­ç»“æŸ <code>Live Activity</code></h2>
<p>å§‹ç»ˆåœ¨ç›¸å…³ä»»åŠ¡æˆ–å®æ—¶äº‹ä»¶ç»“æŸåç»“æŸä¸€ä¸ª <code>Live Activity</code>ã€‚å·²ç»ç»“æŸçš„ <code>Live Activity</code> ä¼šç•™åœ¨é”å±ä¸Šï¼Œç›´åˆ°ç”¨æˆ·å°†å…¶ç§»é™¤æˆ–ç³»ç»Ÿå°†å…¶è‡ªåŠ¨ç§»é™¤ã€‚è‡ªåŠ¨ç§»é™¤å–å†³äºä½ æä¾›ç»™ end(using:dismissalPolicy:) å‡½æ•°çš„ç§»é™¤ç­–ç•¥ã€‚æ­¤å¤–ï¼Œæ€»æ˜¯åŒ…æ‹¬ä¸€ä¸ªæ›´æ–°çš„ Activity.ContentState ä»¥ç¡®ä¿ <code>Live Activity</code> åœ¨ç»“æŸåæ˜¾ç¤ºæœ€æ–°å’Œæœ€åçš„å†…å®¹æ›´æ–°ã€‚è¿™å¾ˆé‡è¦ï¼Œå› ä¸º <code>Live Activity</code> å¯ä»¥åœ¨é”å±ä¸Šä¿æŒä¸€æ®µæ—¶é—´çš„å¯è§æ€§ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­æ˜¾ç¤ºäº†å½“æ¯”è¨é¥¼è¢«é€è¾¾æ—¶ï¼Œæ¯”è¨å¤–å–åº”ç”¨ç¨‹åºå°†å¦‚ä½•ç»“æŸä¸€ä¸ªæ˜¾ç¤ºè®¢å•çš„äº¤ä»˜çŠ¶æ€çš„ <code>Live Activity</code>ã€‚</p>
<pre><code class="language-Swift">let finalDeliveryStatus = PizzaDeliveryAttributes.PizzaDeliveryStatus(driverName: &quot;Anne Johnson&quot;, deliveryTimer: Date.now...Date())

Task {await deliveryActivity?.end(using:finalDeliveryStatus, dismissalPolicy: .default)
}
</code></pre>
<p>ä¸Šé¢çš„ä¾‹å­ä½¿ç”¨çš„æ˜¯é»˜è®¤çš„è§£é›‡ç­–ç•¥ã€‚å› æ­¤ï¼Œ<code>Live Activity</code> åœ¨ç»“æŸåä¼šåœ¨é”å±ä¸Šå‡ºç°ä¸€æ®µæ—¶é—´ï¼Œè®©ç”¨æˆ·çœ‹ä¸€çœ¼æ‰‹æœºå°±èƒ½çœ‹åˆ°æœ€æ–°ä¿¡æ¯ã€‚ç”¨æˆ·å¯ä»¥é€‰æ‹©åœ¨ä»»ä½•æ—¶å€™åˆ é™¤ <code>Live Activity</code>ï¼Œæˆ–è€…ç³»ç»Ÿåœ¨æ´»åŠ¨ç»“æŸ 4 å°æ—¶åè‡ªåŠ¨åˆ é™¤ã€‚</p>
<p>è¦ç«‹å³ä»é”å±ä¸Šåˆ é™¤å·²ç»ç»“æŸçš„ <code>Live Activity</code>ï¼Œè¯·ä½¿ç”¨ç«‹å³ã€‚æˆ–è€…ï¼Œä½¿ç”¨ after(_ğŸ˜ƒ æ¥æŒ‡å®šå››å°æ—¶çª—å£å†…çš„ä¸€ä¸ªæ—¥æœŸã€‚è™½ç„¶æ‚¨å¯ä»¥æä¾›ä»»ä½•æ—¥æœŸï¼Œä½†ç³»ç»Ÿä¼šåœ¨ç»™å®šçš„æ—¥æœŸåæˆ–åœ¨ <code>Live Activity</code> ç»“æŸåå››å°æ—¶ååˆ é™¤å·²ç»“æŸçš„ <code>Live Activity</code>-- ä»¥å…ˆåˆ°è€…ä¸ºå‡†ã€‚</p>
<p>ç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•æ—¶å€™ä»ä»–ä»¬çš„é”å±ä¸Šåˆ é™¤æ‚¨çš„ <code>Live Activity</code>ã€‚è¿™å°†ç»“æŸæ‚¨çš„ <code>Live Activity</code>ï¼Œä½†å®ƒä¸ä¼šç»“æŸæˆ–å–æ¶ˆç”¨æˆ·å¼€å§‹ <code>Live Activity</code> çš„è¡ŒåŠ¨ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯ä»¥ä»é”å±ä¸Šåˆ é™¤ä»–ä»¬çš„æŠ«è¨å¤–å–çš„ <code>Live Activity</code>ï¼Œä½†è¿™å¹¶ä¸èƒ½å–æ¶ˆæŠ«è¨è®¢å•ã€‚å½“ç”¨æˆ·æˆ–ç³»ç»Ÿåˆ é™¤ <code>Live Activity</code> æ—¶ï¼ŒActivityState ä¼šå˜æˆ ActivityState.dismissedã€‚</p>
<h2 id="ç”¨è¿œç¨‹æ¨é€é€šçŸ¥æ›´æ–°æˆ–ç»“æŸä½ çš„-live-activity">ç”¨è¿œç¨‹æ¨é€é€šçŸ¥æ›´æ–°æˆ–ç»“æŸä½ çš„ <code>Live Activity</code></h2>
<p>é™¤äº†é€šè¿‡ ActivityKit ä»ä½ çš„åº”ç”¨ä¸­æ›´æ–°å’Œç»“æŸ <code>Live Activity</code> ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡è¿œç¨‹æ¨é€é€šçŸ¥æ¥æ›´æ–°æˆ–ç»“æŸ <code>Live Activity</code>ï¼Œä½ å¯ä»¥ä»ä½ çš„æœåŠ¡å™¨å‘è‹¹æœæ¨é€é€šçŸ¥æœåŠ¡ï¼ˆAPNsï¼‰å‘é€è¯¥é€šçŸ¥ã€‚è¦äº†è§£æ›´å¤šå…³äºä½¿ç”¨è¿œç¨‹æ¨é€é€šçŸ¥æ¥æ›´æ–°ä½ çš„ <code>Live Activity</code> çš„ä¿¡æ¯ï¼Œè¯·çœ‹ç”¨è¿œç¨‹æ¨é€é€šçŸ¥æ¥æ›´æ–°å’Œç»“æŸä½ çš„ <code>Live Activity</code>ã€‚</p>
<h2 id="è¿½è¸ªæ›´æ–°">è¿½è¸ªæ›´æ–°</h2>
<p>å½“ä½ å¯åŠ¨ä¸€ä¸ª <code>Live Activity</code> æ—¶ï¼ŒActivityKit è¿”å›ä¸€ä¸ª Activity å¯¹è±¡ã€‚é™¤äº†å”¯ä¸€æ ‡è¯†æ¯ä¸ªæ´»åŠ¨çš„ id å¤–ï¼ŒActivity è¿˜æä¾›äº†è§‚å¯Ÿå†…å®¹çŠ¶æ€ã€æ´»åŠ¨çŠ¶æ€å’Œæ¨é€ä»¤ç‰Œæ›´æ–°çš„åºåˆ—ã€‚ä½¿ç”¨ç›¸åº”çš„åºåˆ—æ¥æ¥æ”¶ä½ çš„åº”ç”¨ç¨‹åºä¸­çš„æ›´æ–°ï¼Œä½¿ä½ çš„åº”ç”¨ç¨‹åºå’Œ <code>Live Activity</code> ä¿æŒåŒæ­¥ï¼Œå¹¶å¯¹å˜åŒ–çš„æ•°æ®åšå‡ºå“åº”ã€‚</p>
<ul>
<li>è¦è§‚å¯Ÿä¸€ä¸ªæ­£åœ¨è¿›è¡Œçš„ <code>Live Activity</code> çš„çŠ¶æ€ -- ä¾‹å¦‚ï¼Œç¡®å®šå®ƒæ˜¯å¦åœ¨æ´»åŠ¨æˆ–å·²ç»ç»“æŸ -- ä½¿ç”¨ activityStateUpdatesã€‚</li>
<li>è¦è§‚å¯Ÿä¸€ä¸ª <code>Live Activity</code> çš„åŠ¨æ€å†…å®¹çš„å˜åŒ–ï¼Œä½¿ç”¨ contentStateã€‚</li>
<li>è¦è§‚å¯Ÿä¸€ä¸ª <code>Live Activity</code> çš„æ¨é€ä»¤ç‰Œçš„å˜åŒ–ï¼Œä½¿ç”¨ pushTokenUpdatesã€‚</li>
</ul>
<h2 id="è·å–ä¸€ä¸ªæ´»åŠ¨åˆ—è¡¨">è·å–ä¸€ä¸ªæ´»åŠ¨åˆ—è¡¨</h2>
<p>ä½ çš„åº”ç”¨ç¨‹åºå¯ä»¥å¯åŠ¨ä¸€ä¸ªä»¥ä¸Šçš„ <code>Live Activity</code>ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªä½“è‚²åº”ç”¨å¯ä»¥å…è®¸ç”¨æˆ·ä¸ºä»–ä»¬æ„Ÿå…´è¶£çš„æ¯åœºç°åœºä½“è‚²æ¯”èµ›å¯åŠ¨ä¸€ä¸ª <code>Live Activity</code>ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºå¯åŠ¨å¤šä¸ª <code>Live Activity</code>ï¼Œä½¿ç”¨ activityUpdates å‡½æ•°è·å¾—å…³äºä½ çš„åº”ç”¨ç¨‹åºæ­£åœ¨è¿›è¡Œçš„ <code>Live Activity</code> çš„é€šçŸ¥ã€‚è¿½è¸ªæ­£åœ¨è¿›è¡Œçš„ Live æ´»åŠ¨ï¼Œä»¥ç¡®ä¿ä½ çš„åº”ç”¨ç¨‹åºçš„æ•°æ®ä¸ ActivityKit è¿½è¸ªçš„æ´»è·ƒ Live æ´»åŠ¨åŒæ­¥ã€‚</p>
<p>ä¸‹é¢çš„ç‰‡æ®µæ˜¾ç¤ºäº†æŠ«è¨å¤–å–åº”ç”¨ç¨‹åºå¦‚ä½•æ£€ç´¢æ­£åœ¨è¿›è¡Œçš„æ´»åŠ¨åˆ—è¡¨ã€‚</p>
<pre><code class="language-Swift">// Fetch all ongoing pizza delivery Live Activities.
for await activity in Activity&lt;PizzaDeliveryAttributes&gt;.activityUpdates {print(&quot;Pizza delivery details: \(activity.attributes)&quot;)
}
</code></pre>
<p>è·å–æ‰€æœ‰æ´»åŠ¨çš„å¦ä¸€ä¸ªç”¨ä¾‹æ˜¯ç»´æŠ¤æ­£åœ¨è¿›è¡Œä¸­çš„ <code>Live Activity</code>ï¼Œå¹¶ç¡®ä¿ä½ ä¸ä¼šè®©ä»»ä½•æ´»åŠ¨çš„è¿è¡Œæ—¶é—´è¶…è¿‡éœ€è¦ã€‚ä¾‹å¦‚ï¼Œç³»ç»Ÿå¯èƒ½ä¼šåœæ­¢ä½ çš„åº”ç”¨ç¨‹åºï¼Œæˆ–è€…ä½ çš„åº”ç”¨ç¨‹åºå¯èƒ½åœ¨ä¸€ä¸ª <code>Live Activity</code> å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶å´©æºƒã€‚å½“åº”ç”¨ç¨‹åºä¸‹æ¬¡å¯åŠ¨æ—¶ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•æ´»åŠ¨ä»åœ¨è¿›è¡Œï¼Œæ›´æ–°ä½ çš„åº”ç”¨ç¨‹åºå­˜å‚¨çš„ <code>Live Activity</code> æ•°æ®ï¼Œå¹¶ç»“æŸä»»ä½•ä¸å†ç›¸å…³çš„ <code>Live Activity</code>ã€‚</p>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">ä¸‹ä¸€ç¯‡</div>
                <a href="https://www.yiios.com/post/ios-ying-yong-nei-tui-song-zu-jian-ji-zhu-fang-an/" class="post-title gt-a-link">
                    iOS åº”ç”¨å†…æ¨é€ç»„ä»¶æŠ€æœ¯æ–¹æ¡ˆ
                </a>
            </div>
        

        
            <span id="/post/live-activityling-dong-dao-wwdc-zong-jie/" class="leancloud_visitors" data-flag-title="Live Activity(çµåŠ¨å²›) WWDC æ€»ç»“">
                <em class="post-meta-item-text">é˜…è¯»é‡ </em>
                <i class="leancloud-visitors-count">0</i>
            </span>
        

        

        
            <script src='https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js'></script>

<style>
	div#vcomments{
		width:100%;
		max-width: 1000px;
		padding: 2.5%
	}
</style>


	<div id="vcomments"></div>

<script>
	new Valine({
		el: '#vcomments',
		appId: 'ZLEVCurGXf8sLfemxNkSfxR5-MdYXbMMI',
		appKey: 'gNeL8Ht0Uj2EE3b6ubMdtdfm',
		avatar: 'retro',
		pageSize: 5,
		recordIp: false,
		placeholder: 'è¯´ç‚¹ä»€ä¹ˆ...',
		visitor: true,
	});
</script>

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first"></div>
    <div class="social-container">
        
            
                <a href="https://github.com/yiios" target="_blank">
                    <i class="fab fa-github gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        <a href="https://beian.miit.gov.cn/" target="_blank">ç²¤ICPå¤‡2021150605å·-1</a>
    </div>
    <div>
        Theme <a href="https://github.com/imhanjie/gridea-theme-pure" target="_blank">Pure</a>, Powered by <a
                href="https://gridea.dev" target="_blank">Gridea</a> | <a href="https://www.yiios.com/atom.xml" target="_blank">RSS</a>
    </div>
</div>

<script>
  hljs.highlightAll()
</script>

    </div>
</div>
</body>
</html>
